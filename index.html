<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Steve | Audio Processor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="wizard.css">
    <link rel="stylesheet" href="mixer.css">
</head>

<body>
    <div class="logo">
        <div class="led-indicator active"></div>
        <h1>MASTERING<span class="highlight">STEVE</span></h1>
    </div>
    <div class="mode-switcher">
        <button id="mode-mastering" class="mode-btn active">Mastering</button>
        <button id="mode-mixing" class="mode-btn">Mixing</button>
    </div>

    <!-- Mastering Specific Controls -->
    <div id="mastering-ui" class="master-controls">
        <div class="transport">
            <input type="file" id="audio-upload" accept="audio/*" style="display: none;">
            <button id="btn-load" class="btn-control">LOAD TRACK</button>
            <button id="btn-play" class="btn-control" disabled>PLAY</button>
            <button id="btn-export" class="btn-control" disabled>EXPORT DEMO (60 SEGUNDOS)</button>
            <button id="btn-save-preset" class="btn-control" disabled>SAVE PRESET</button>
            <button id="btn-load-preset" class="btn-control">LOAD PRESET</button>
            <input type="file" id="preset-upload-input" accept=".json" style="display: none;">
            <div class="preset-dropdown-container">
                <select id="genre-select" class="btn-control preset-select">
                    <option value="default">Load Genre Preset...</option>
                    <option value="upload">üìÇ Cargar mi propio Preset (.json)</option>
                    <option value="rock">üé∏ Rock</option>
                    <option value="pop">‚ú® Pop</option>
                    <option value="country">ü§† Country</option>
                    <option value="reggaeton">üî• Reggaeton</option>
                    <option value="classical">üéª Classical</option>
                    <option value="youtube">üéôÔ∏è YouTuber / Voice</option>
                </select>
                <select id="target-select" class="btn-control preset-select target-selector">
                    <option value="default">Target Output...</option>
                    <option value="spotify">üü¢ Spotify (-14 LUFS)</option>
                    <option value="youtube">üî¥ YouTube (-14 LUFS)</option>
                    <option value="apple">üçé Apple Music (-16 LUFS)</option>
                    <option value="cd">üíø CD / Club (-9 LUFS)</option>
                </select>
            </div>
            <button id="btn-buy" class="btn-premium">DESBLOQUEAR PRO (OFERTA $3.000)</button>
        </div>
        <div class="separator"></div>
        <button id="bypass-all" class="btn-toggle">BYPASS ALL</button>
        <div class="meter-container">
            <span class="label">OUT</span>
            <div class="meter-bar">
                <div class="meter-fill" id="master-out-l"></div>
            </div>
            <div class="meter-bar">
                <div class="meter-fill" id="master-out-r"></div>
            </div>
        </div>
    </div>
    </div>

    <!-- Mixing Specific Controls (Mixer Console) -->
    <div id="mixing-ui" class="mixer-container">
        <!-- Channel Strips will be injected here by JS -->
        <div class="btn-add-track" id="btn-add-track" title="Agregar Pista">+</div>
    </div>

    <!-- Global Transport (Moved out of master-controls for shared access, or kept in master-controls and duplicated/managed by JS? 
         Let's keep the existing buttons in master-controls for now and add a separate transport for mixing if needed, 
         OR just hide master-controls and show a global transport. 
         For simplicity, I will duplicate playing logic or use the existing buttons if they are visible. 
         Actually, let's ADD a dedicated global transport bar that is always visible if we switch modes.
         But to save time, I will just let the JS manage visibility of elements. 
    -->
    <div id="global-transport" class="master-controls"
        style="display:none; justify-content: center; margin-bottom: 20px;">
        <button id="global-play" class="btn-control">PLAY MIX</button>
        <button id="global-stop" class="btn-control">STOP</button>
        <button id="global-export" class="btn-control">EXPORT MIX</button>
    </div>

    </header>



    <main class="rack">
        <!-- 1. Subtractive EQ -->
        <section class="module" id="subtractive-eq">
            <div class="module-header">
                <h2>EQ SUSTRACTIVA</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Low Cut</label>
                    <div class="knob-wrapper">
                        <input type="range" min="20" max="500" value="80" class="knob" id="sub-low-freq">
                        <span class="value-display">80 Hz</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Mid Dip</label>
                    <div class="knob-wrapper">
                        <input type="range" min="-12" max="0" value="-3" class="knob" id="sub-mid-gain">
                        <span class="value-display">-3 dB</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>High Cut</label>
                    <div class="knob-wrapper">
                        <input type="range" min="10000" max="20000" value="18000" class="knob" id="sub-high-freq">
                        <span class="value-display">18 kHz</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Additive EQ -->
        <section class="module" id="additive-eq">
            <div class="module-header">
                <h2>EQ ADITIVA</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Low Boost</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="12" value="2" class="knob" id="add-low-gain">
                        <span class="value-display">+2 dB</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Presence</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="12" value="1.5" class="knob" id="add-mid-gain">
                        <span class="value-display">+1.5 dB</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Air</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="12" value="3" class="knob" id="add-high-gain">
                        <span class="value-display">+3 dB</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Compression -->
        <section class="module" id="compression">
            <div class="module-header">
                <h2>COMPRESOR</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Threshold</label>
                    <div class="fader-wrapper">
                        <input type="range" min="-60" max="0" value="-20" class="fader" id="comp-thresh">
                        <span class="value-display">-20 dB</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Ratio</label>
                    <div class="knob-wrapper">
                        <input type="range" min="1" max="20" step="0.1" value="2" class="knob" id="comp-ratio">
                        <span class="value-display">2:1</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Makeup</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="24" value="2" class="knob" id="comp-makeup">
                        <span class="value-display">+2 dB</span>
                    </div>
                </div>
            </div>
            <div class="gr-meter">
                <div class="gr-bar" id="gr-visual"></div>
            </div>
        </section>

        <!-- 4. Saturation -->
        <section class="module" id="saturation">
            <div class="module-header">
                <h2>SATURACI√ìN</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Drive</label>
                    <div class="knob-wrapper large">
                        <input type="range" min="0" max="100" value="25" class="knob" id="sat-drive">
                        <span class="value-display">25%</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Type</label>
                    <div class="switch-wrapper">
                        <button class="switch-btn active" data-val="tape">TAPE</button>
                        <button class="switch-btn" data-val="tube">TUBE</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4.5. Delay (Mixing Only) -->
        <section class="module mixing-only-module hidden" id="delay-module">
            <div class="module-header">
                <h2>DELAY</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Time</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="1000" value="250" class="knob" id="delay-time">
                        <span class="value-display">250 ms</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Feedback</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="90" value="30" class="knob" id="delay-feedback">
                        <span class="value-display">30 %</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Mix</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="100" value="0" class="knob" id="delay-mix">
                        <span class="value-display">0 %</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4.6. Reverb (Mixing Only) -->
        <section class="module mixing-only-module hidden" id="reverb-module">
            <div class="module-header">
                <h2>REVERB</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Size</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0.1" max="5" step="0.1" value="2.0" class="knob" id="verb-size">
                        <span class="value-display">2.0 s</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Mix</label>
                    <div class="knob-wrapper">
                        <input type="range" min="0" max="100" value="0" class="knob" id="verb-mix">
                        <span class="value-display">0 %</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Limiter -->
        <section class="module" id="limiter">
            <div class="module-header">
                <h2>LIMITADOR</h2>
                <button class="power-btn active" aria-label="Toggle Module"></button>
            </div>
            <div class="module-content">
                <div class="control-group">
                    <label>Ceiling</label>
                    <div class="fader-wrapper">
                        <input type="range" min="-10" max="0" step="0.1" value="-0.1" class="fader" id="lim-ceiling">
                        <span class="value-display">-0.1 dB</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Gain</label>
                    <div class="knob-wrapper large">
                        <input type="range" min="0" max="12" value="0" class="knob" id="lim-gain">
                        <span class="value-display">+0 dB</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Audio Processing Engine: <span class="status-ok">ONLINE</span></p>
        <p>Sample Rate: 48kHz | Bit Depth: 24bit</p>
    </footer>
    </div>

    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>üîì Acceso PRO Ilimitado</h2>
            <p class="price-tag">OFERTA DE LANZAMIENTO: <strong>$3 USD / $3.000 ARS</strong></p>
            <p>¬°Precio promocional por tiempo limitado! Masteriza todo lo que quieras por un mes.</p>

            <div class="payment-options">
                <div class="option">
                    <h3>üá¶üá∑ Argentina (Mercado Pago)</h3>

                    <div style="margin-bottom: 20px;">
                        <p style="margin-bottom:5px; color: #4ade80; font-size: 1.1em;"><strong>üî• MEMBRES√çA PRO (Todo
                                incluido)</strong></p>
                        <a href="https://mpago.la/1caEEat" target="_blank" class="pay-link"
                            style="background-color: #009ee3; border-color: #009ee3;">üí∏ Activar por $3.000 ARS</a>
                        <button
                            onclick="navigator.clipboard.writeText('https://mpago.la/1caEEat').then(() => alert('Link de $3.000 copiado. ¬°P√©galo en tu PC al terminar!'));"
                            style="background: none; border: none; color: #009ee3; text-decoration: underline; cursor: pointer; font-size: 0.8rem; margin-top: 5px; padding: 0; text-align: left; line-height: 1.4;">
                            üìã Copiar link pa' Celular
                        </button>
                    </div>
                </div>
                <div class="option">
                    <h3>üåç Internacional (PayPal)</h3>
                    <p>Pagar v√≠a PayPal:</p>
                    <a href="https://paypal.me/Estebanfederico" target="_blank" class="pay-link">üí≥ Pay with PayPal ($3
                        USD)</a>
                </div>
            </div>

            <!-- Manual Unlock Section -->
            <div
                style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; text-align: center;">
                <p style="font-size: 0.9em; opacity: 0.7;">¬øYa pagaste o tienes un c√≥digo?</p>
                <button onclick="enterProCode()"
                    style="background: transparent; border: 1px solid #4ade80; color: #4ade80; padding: 5px 15px; border-radius: 4px; cursor: pointer; margin-top: 5px;">
                    üîë Ingresar C√≥digo Manual
                </button>
            </div>

            <div class="instructions">
                <h3>C√≥mo funciona (Desbloqueo Autom√°tico):</h3>
                <div
                    style="text-align: left; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <p style="margin-bottom: 8px;"><strong>üá¶üá∑ Argentina (Mercado Pago):</strong><br>
                        Al finalizar el pago, espera unos segundos y ser√°s redirigido <strong>autom√°ticamente</strong>
                        al MODO PRO.</p>

                    <p style="margin-bottom: 0;"><strong>üåç Internacional (PayPal):</strong><br>
                        1. Env√≠a $3 USD a trav√©s del bot√≥n.<br>
                        2. Manda copia del comprobante por WhatsApp/Email.<br>
                        3. Recibir√°s t√∫ <strong>C√≥digo de Acceso</strong> al instante.</p>
                </div>

                <p style="font-size: 0.9em; opacity: 0.8;"><strong>üí° Tecnolog√≠a Smart-Link:</strong> Una vez activo, tu
                    acceso queda guardado en este dispositivo. ¬°No necesitas contrase√±as para volver a entrar! </p>
                <div class="contact-info">
                    <p class="note" style="font-size: 0.9em; opacity: 0.8;">¬øAlg√∫n problema? Env√≠ame el comprobante y te
                        activo manual:</p>
                    <p>üì± WhatsApp: <a href="https://wa.me/5492664024390" target="_blank">+54 9 266 402 4390</a></p>
                    <p>üìß Email: <a href="mailto:masteringsteve@gmail.com">masteringsteve@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Send Audio Section -->
    <!-- Intelligent Workflow Section -->
    <section class="send-audio-section">
        <div class="send-audio-content">
            <h2>ü§ñ Flujo de Trabajo Inteligente</h2>
            <div class="audio-requirements">
                <div class="requirement-item">
                    <span class="icon">üìÅ</span>
                    <div>
                        <h3>1. Carga y Ajusta</h3>
                        <p>Sube tu mezcla y usa las perillas o presets. ¬øDudas? <strong>Preg√∫ntale al Chatbot</strong>.
                        </p>
                    </div>
                </div>
                <div class="requirement-item">
                    <span class="icon">üîì</span>
                    <div>
                        <h3>2. Desbloquea PRO</h3>
                        <p>Realiza un pago de <strong>$3 USD / $3.000 ARS</strong> para activar 1 mes de exportaciones
                            WAV ilimitadas.
                        </p>
                    </div>
                </div>
                <div class="requirement-item">
                    <span class="icon">‚ö°</span>
                    <div>
                        <h3>3. Exporta al Instante</h3>
                        <p>Sin esperas de 48hs. Obt√©n tu master profesional en <strong>segundos</strong>.</p>
                    </div>
                </div>
            </div>

            <div class="workflow-steps"
                style="margin-top: 2rem; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                <h3>üí° Tip Pro:</h3>
                <p style="margin-bottom: 0;">Si necesitas cerrar el navegador, ¬°no te preocupes! <strong>Tus ajustes se
                        guardan autom√°ticamente</strong>. Solo vuelve a entrar, carga tu canci√≥n de nuevo y todo estar√°
                    como lo dejaste.</p>
            </div>
        </div>
    </section>

    <!-- Contador de visitas -->
    <div class="contador-visitas">
        <div id="sfct5lu9cgdjzzftfj94bnghdxyg2elada7"></div>
        <script type="text/javascript"
            src="https://counter1.optistats.ovh/private/counter.js?c=t5lu9cgdjzzftfj94bnghdxyg2elada7&down=async"
            async></script>
        <noscript>
            <a href="https://www.contadorvisitasgratis.com" title="contador de visitas para web">
                <img src="https://counter1.optistats.ovh/private/contadorvisitasgratis.php?c=t5lu9cgdjzzftfj94bnghdxyg2elada7"
                    border="0" title="contador de visitas para web" alt="contador de visitas para web">
            </a>
        </noscript>
    </div>

    <!-- Chatbot de presets (simulado) -->
    <div class="wizard-widget" id="wizard-widget">
        <div class="wizard-header">
            ü§ñ Asistente de Presets
            <div class="wizard-controls">
                <button class="minimize-btn" id="wizard-toggle" title="Minimizar">_</button>
                <button class="minimize-btn" id="wizard-reset" title="Reiniciar asistente">‚ü≤</button>
            </div>
        </div>
        <div class="wizard-body" id="wizard-body">
            <div class="message bot">¬°Hola! Vamos a encontrar el preset perfecto para tu canci√≥n. ¬øQu√© g√©nero describe
                mejor
                tu pista?</div>
        </div>
        <div class="wizard-options" id="wizard-options"></div>
    </div>

    <script src="wizard.js" defer></script>
    <script src="script.js"></script>
</body>

</html>